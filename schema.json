{
  "components": {
    "schemas": {
      "BreadcrumbSchema": {
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["name", "id"],
        "title": "BreadcrumbSchema",
        "type": "object"
      },
      "CsrfTokenOutSchema": {
        "properties": {
          "csrf_token": {
            "title": "Csrf Token",
            "type": "string"
          }
        },
        "required": ["csrf_token"],
        "title": "CsrfTokenOutSchema",
        "type": "object"
      },
      "GroupAssignSchema": {
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          }
        },
        "required": ["id"],
        "title": "GroupAssignSchema",
        "type": "object"
      },
      "GroupOut": {
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["name", "id"],
        "title": "GroupOut",
        "type": "object"
      },
      "ImageFolderDetailSchema": {
        "properties": {
          "breadcrumbs": {
            "items": {
              "$ref": "#/components/schemas/BreadcrumbSchema"
            },
            "title": "Breadcrumbs",
            "type": "array"
          },
          "child_folders": {
            "items": {
              "$ref": "#/components/schemas/ImageFolderSchema"
            },
            "title": "Child Folders",
            "type": "array"
          },
          "folder_images": {
            "items": {
              "$ref": "#/components/schemas/ImageThumbnailSchema"
            },
            "title": "Folder Images",
            "type": "array"
          },
          "has_children": {
            "title": "Has Children",
            "type": "boolean"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "image_count": {
            "title": "Image Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "child_folders",
          "folder_images",
          "breadcrumbs",
          "has_children",
          "image_count"
        ],
        "title": "ImageFolderDetailSchema",
        "type": "object"
      },
      "ImageFolderSchema": {
        "properties": {
          "child_count": {
            "default": 0,
            "title": "Child Count",
            "type": "integer"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "image_count": {
            "default": 0,
            "title": "Image Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["id", "name", "description"],
        "title": "ImageFolderSchema",
        "type": "object"
      },
      "ImageThumbnailSchema": {
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "thumbnail_height": {
            "title": "Thumbnail Height",
            "type": "integer"
          },
          "thumbnail_url": {
            "title": "Thumbnail Url",
            "type": "string"
          },
          "thumbnail_width": {
            "title": "Thumbnail Width",
            "type": "integer"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": ["id", "title", "thumbnail_url", "thumbnail_height", "thumbnail_width"],
        "title": "ImageThumbnailSchema",
        "type": "object"
      },
      "ImagesPerPageChoices": {
        "enum": [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
        "title": "ImagesPerPageChoices",
        "type": "integer"
      },
      "TimezoneChoices": {
        "enum": [
          "Africa/Abidjan",
          "Africa/Accra",
          "Africa/Addis_Ababa",
          "Africa/Algiers",
          "Africa/Asmara",
          "Africa/Asmera",
          "Africa/Bamako",
          "Africa/Bangui",
          "Africa/Banjul",
          "Africa/Bissau",
          "Africa/Blantyre",
          "Africa/Brazzaville",
          "Africa/Bujumbura",
          "Africa/Cairo",
          "Africa/Casablanca",
          "Africa/Ceuta",
          "Africa/Conakry",
          "Africa/Dakar",
          "Africa/Dar_es_Salaam",
          "Africa/Djibouti",
          "Africa/Douala",
          "Africa/El_Aaiun",
          "Africa/Freetown",
          "Africa/Gaborone",
          "Africa/Harare",
          "Africa/Johannesburg",
          "Africa/Juba",
          "Africa/Kampala",
          "Africa/Khartoum",
          "Africa/Kigali",
          "Africa/Kinshasa",
          "Africa/Lagos",
          "Africa/Libreville",
          "Africa/Lome",
          "Africa/Luanda",
          "Africa/Lubumbashi",
          "Africa/Lusaka",
          "Africa/Malabo",
          "Africa/Maputo",
          "Africa/Maseru",
          "Africa/Mbabane",
          "Africa/Mogadishu",
          "Africa/Monrovia",
          "Africa/Nairobi",
          "Africa/Ndjamena",
          "Africa/Niamey",
          "Africa/Nouakchott",
          "Africa/Ouagadougou",
          "Africa/Porto-Novo",
          "Africa/Sao_Tome",
          "Africa/Timbuktu",
          "Africa/Tripoli",
          "Africa/Tunis",
          "Africa/Windhoek",
          "America/Adak",
          "America/Anchorage",
          "America/Anguilla",
          "America/Antigua",
          "America/Araguaina",
          "America/Argentina/Buenos_Aires",
          "America/Argentina/Catamarca",
          "America/Argentina/ComodRivadavia",
          "America/Argentina/Cordoba",
          "America/Argentina/Jujuy",
          "America/Argentina/La_Rioja",
          "America/Argentina/Mendoza",
          "America/Argentina/Rio_Gallegos",
          "America/Argentina/Salta",
          "America/Argentina/San_Juan",
          "America/Argentina/San_Luis",
          "America/Argentina/Tucuman",
          "America/Argentina/Ushuaia",
          "America/Aruba",
          "America/Asuncion",
          "America/Atikokan",
          "America/Atka",
          "America/Bahia",
          "America/Bahia_Banderas",
          "America/Barbados",
          "America/Belem",
          "America/Belize",
          "America/Blanc-Sablon",
          "America/Boa_Vista",
          "America/Bogota",
          "America/Boise",
          "America/Buenos_Aires",
          "America/Cambridge_Bay",
          "America/Campo_Grande",
          "America/Cancun",
          "America/Caracas",
          "America/Catamarca",
          "America/Cayenne",
          "America/Cayman",
          "America/Chicago",
          "America/Chihuahua",
          "America/Ciudad_Juarez",
          "America/Coral_Harbour",
          "America/Cordoba",
          "America/Costa_Rica",
          "America/Coyhaique",
          "America/Creston",
          "America/Cuiaba",
          "America/Curacao",
          "America/Danmarkshavn",
          "America/Dawson",
          "America/Dawson_Creek",
          "America/Denver",
          "America/Detroit",
          "America/Dominica",
          "America/Edmonton",
          "America/Eirunepe",
          "America/El_Salvador",
          "America/Ensenada",
          "America/Fort_Nelson",
          "America/Fort_Wayne",
          "America/Fortaleza",
          "America/Glace_Bay",
          "America/Godthab",
          "America/Goose_Bay",
          "America/Grand_Turk",
          "America/Grenada",
          "America/Guadeloupe",
          "America/Guatemala",
          "America/Guayaquil",
          "America/Guyana",
          "America/Halifax",
          "America/Havana",
          "America/Hermosillo",
          "America/Indiana/Indianapolis",
          "America/Indiana/Knox",
          "America/Indiana/Marengo",
          "America/Indiana/Petersburg",
          "America/Indiana/Tell_City",
          "America/Indiana/Vevay",
          "America/Indiana/Vincennes",
          "America/Indiana/Winamac",
          "America/Indianapolis",
          "America/Inuvik",
          "America/Iqaluit",
          "America/Jamaica",
          "America/Jujuy",
          "America/Juneau",
          "America/Kentucky/Louisville",
          "America/Kentucky/Monticello",
          "America/Knox_IN",
          "America/Kralendijk",
          "America/La_Paz",
          "America/Lima",
          "America/Los_Angeles",
          "America/Louisville",
          "America/Lower_Princes",
          "America/Maceio",
          "America/Managua",
          "America/Manaus",
          "America/Marigot",
          "America/Martinique",
          "America/Matamoros",
          "America/Mazatlan",
          "America/Mendoza",
          "America/Menominee",
          "America/Merida",
          "America/Metlakatla",
          "America/Mexico_City",
          "America/Miquelon",
          "America/Moncton",
          "America/Monterrey",
          "America/Montevideo",
          "America/Montreal",
          "America/Montserrat",
          "America/Nassau",
          "America/New_York",
          "America/Nipigon",
          "America/Nome",
          "America/Noronha",
          "America/North_Dakota/Beulah",
          "America/North_Dakota/Center",
          "America/North_Dakota/New_Salem",
          "America/Nuuk",
          "America/Ojinaga",
          "America/Panama",
          "America/Pangnirtung",
          "America/Paramaribo",
          "America/Phoenix",
          "America/Port-au-Prince",
          "America/Port_of_Spain",
          "America/Porto_Acre",
          "America/Porto_Velho",
          "America/Puerto_Rico",
          "America/Punta_Arenas",
          "America/Rainy_River",
          "America/Rankin_Inlet",
          "America/Recife",
          "America/Regina",
          "America/Resolute",
          "America/Rio_Branco",
          "America/Rosario",
          "America/Santa_Isabel",
          "America/Santarem",
          "America/Santiago",
          "America/Santo_Domingo",
          "America/Sao_Paulo",
          "America/Scoresbysund",
          "America/Shiprock",
          "America/Sitka",
          "America/St_Barthelemy",
          "America/St_Johns",
          "America/St_Kitts",
          "America/St_Lucia",
          "America/St_Thomas",
          "America/St_Vincent",
          "America/Swift_Current",
          "America/Tegucigalpa",
          "America/Thule",
          "America/Thunder_Bay",
          "America/Tijuana",
          "America/Toronto",
          "America/Tortola",
          "America/Vancouver",
          "America/Virgin",
          "America/Whitehorse",
          "America/Winnipeg",
          "America/Yakutat",
          "America/Yellowknife",
          "Antarctica/Casey",
          "Antarctica/Davis",
          "Antarctica/DumontDUrville",
          "Antarctica/Macquarie",
          "Antarctica/Mawson",
          "Antarctica/McMurdo",
          "Antarctica/Palmer",
          "Antarctica/Rothera",
          "Antarctica/South_Pole",
          "Antarctica/Syowa",
          "Antarctica/Troll",
          "Antarctica/Vostok",
          "Arctic/Longyearbyen"
        ],
        "title": "TimezoneChoices",
        "type": "string"
      },
      "UserInCreateSchema": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "format": "email",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "first_name": {
            "title": "First Name",
            "type": "string"
          },
          "is_staff": {
            "default": false,
            "title": "Is Staff",
            "type": "boolean"
          },
          "is_superuser": {
            "default": false,
            "title": "Is Superuser",
            "type": "boolean"
          },
          "last_name": {
            "title": "Last Name",
            "type": "string"
          },
          "password": {
            "format": "password",
            "title": "Password",
            "type": "string",
            "writeOnly": true
          },
          "username": {
            "title": "Username",
            "type": "string"
          }
        },
        "required": ["first_name", "last_name", "username", "password"],
        "title": "UserInCreateSchema",
        "type": "object"
      },
      "UserOutSchema": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "format": "email",
                "type": "string"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "first_name": {
            "title": "First Name",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "is_staff": {
            "default": false,
            "title": "Is Staff",
            "type": "boolean"
          },
          "is_superuser": {
            "default": false,
            "title": "Is Superuser",
            "type": "boolean"
          },
          "last_name": {
            "title": "Last Name",
            "type": "string"
          },
          "password": {
            "format": "password",
            "title": "Password",
            "type": "string",
            "writeOnly": true
          },
          "username": {
            "title": "Username",
            "type": "string"
          }
        },
        "required": ["first_name", "last_name", "username", "password", "id"],
        "title": "UserOutSchema",
        "type": "object"
      },
      "UserProfileOutSchema": {
        "properties": {
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          },
          "items_per_page": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImagesPerPageChoices"
              }
            ],
            "default": 30
          },
          "timezone": {
            "$ref": "#/components/schemas/TimezoneChoices"
          }
        },
        "required": ["bio", "timezone"],
        "title": "UserProfileOutSchema",
        "type": "object"
      },
      "UserProfileUpdateSchema": {
        "properties": {
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          },
          "items_per_page": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImagesPerPageChoices"
              },
              {
                "type": "null"
              }
            ]
          },
          "timezone": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TimezoneChoices"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "title": "UserProfileUpdateSchema",
        "type": "object"
      },
      "UserUpdateInScheme": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "format": "email",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Name"
          },
          "is_staff": {
            "default": false,
            "title": "Is Staff",
            "type": "boolean"
          },
          "is_superuser": {
            "default": false,
            "title": "Is Superuser",
            "type": "boolean"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "password": {
            "format": "password",
            "title": "Password",
            "type": "string",
            "writeOnly": true
          },
          "username": {
            "title": "Username",
            "type": "string"
          }
        },
        "required": ["username", "password"],
        "title": "UserUpdateInScheme",
        "type": "object"
      }
    },
    "securitySchemes": {
      "SessionAuthIsActive": {
        "in": "cookie",
        "name": "sessionid",
        "type": "apiKey"
      },
      "SessionAuthIsActiveSuperUserOrStaff": {
        "in": "cookie",
        "name": "sessionid",
        "type": "apiKey"
      }
    }
  },
  "info": {
    "description": "",
    "title": "Memoria API",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/auth/csrf/": {
      "get": {
        "operationId": "auth_get_csrf_token",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CsrfTokenOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Get Csrf Token",
        "tags": ["auth"]
      }
    },
    "/api/auth/login/": {
      "post": {
        "operationId": "auth_login",
        "parameters": [],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "username or password not provided"
          },
          "401": {
            "description": "invalid username or password provided"
          }
        },
        "summary": "Login",
        "tags": ["auth"]
      }
    },
    "/api/auth/logout/": {
      "post": {
        "operationId": "auth_logout",
        "parameters": [],
        "responses": {
          "204": {
            "description": "No Content"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Logout",
        "tags": ["auth"]
      }
    },
    "/api/folder/": {
      "get": {
        "description": "List root image folders with permission filtering",
        "operationId": "folder_list_roots",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ImageFolderSchema"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "List Image Folders",
        "tags": ["folders"]
      }
    },
    "/api/folder/{folder_id}/": {
      "get": {
        "description": "Get details of a specific image folder with children and images",
        "operationId": "folder_get_details",
        "parameters": [
          {
            "in": "path",
            "name": "folder_id",
            "required": true,
            "schema": {
              "title": "Folder Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageFolderDetailSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Get Image Folder",
        "tags": ["folders"]
      }
    },
    "/api/image/{image_id}/thumbnail/": {
      "get": {
        "operationId": "image_get_thumb_info",
        "parameters": [
          {
            "in": "path",
            "name": "image_id",
            "required": true,
            "schema": {
              "title": "Image Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageThumbnailSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Get Image Thumbnail Info",
        "tags": ["images"]
      }
    },
    "/api/user/create/": {
      "post": {
        "operationId": "user_create",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserInCreateSchema"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActiveSuperUserOrStaff": []
          }
        ],
        "summary": "Create User",
        "tags": ["users"]
      }
    },
    "/api/user/me/": {
      "get": {
        "operationId": "user_get_info",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Get User Info",
        "tags": ["users"]
      }
    },
    "/api/user/me/edit/": {
      "post": {
        "operationId": "user_edit_info",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateInScheme"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Edit User Info",
        "tags": ["users"]
      }
    },
    "/api/user/profile/": {
      "get": {
        "operationId": "user_get_profile",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Get Profile",
        "tags": ["users"]
      }
    },
    "/api/user/profile/edit/": {
      "post": {
        "operationId": "user_edit_profile",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfileUpdateSchema"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileOutSchema"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Edit Profile",
        "tags": ["users"]
      }
    },
    "/api/user/{user_id}/groups": {
      "get": {
        "operationId": "user_get_groups",
        "parameters": [
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "title": "User Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/GroupOut"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            },
            "description": "OK"
          }
        },
        "security": [
          {
            "SessionAuthIsActive": []
          }
        ],
        "summary": "Get User Groups",
        "tags": ["users"]
      },
      "post": {
        "operationId": "user_set_groups",
        "parameters": [
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "title": "User Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupAssignSchema"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/GroupOut"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "description": "some provided groups don't exist"
          }
        },
        "security": [
          {
            "SessionAuthIsActiveSuperUserOrStaff": []
          }
        ],
        "summary": "Set User Groups",
        "tags": ["users"]
      }
    }
  },
  "servers": []
}
